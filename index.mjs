// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ndarraylike2object@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-arraylike2object@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-zeros@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-shapes@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-maybe-broadcast-array@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-vind2bind@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-read-only@esm/index.mjs";var f=h;var p=function(r,e,t,a,n){var s,i,o,d,l,m,h,u,p,y,b,g,j,c,v,w,x,E,k,T,V,I,F,z;if(v=r.length,g=r.shape,j=e.shape,c=t.shape,s=r.data,i=e.data,o=t.data,w=r.strides,x=e.strides,E=t.strides,k=r.offset,T=e.offset,V=t.offset,d=r.order,l=e.order,m=t.order,h=r.getter,u=e.getter,p=t.setter,y=r.ref,b=e.ref,0!==g.length||0!==j.length)for(z=v-1;z>=0;z--)I=f(g,w,k,d,z,"throw"),F=f(j,x,T,l,z,"throw"),p(o,f(c,E,V,m,z,"throw"),a.call(n,h(s,I),u(i,F),z,y,b));else p(o,V,a.call(n,h(s,k),u(i,T),0,y,b))};var y=function(r,e,t,a,n){var s,i,o,d,l,m,h;for(s=r.data,i=e.data,o=t.data,d=r.getter,l=e.getter,m=t.setter,h=s.length-1;h>=0;h--)m(o,h,a.call(n,d(s,h),l(i,h),h,s,i))},b=e,g=t,j=a,c=n,v=s,w=i,x=o,E=d,k=l,T=m,V=p,I=y;var F=e,z=t,R=a,C=s,S=i,q=l,A=u,B=m,D=p,G=y;var H=function(r,e,t,a){var n,s,i,o,d;if(!j(t))throw new TypeError(T("invalid argument. Second argument must be a function. Value: `%s`.",t));if(n=g(r),s=g(e),n){if(!s)throw new TypeError(T("invalid argument. If the first input array is an ndarray, the second input array must also be an ndarray. Value: `%s`.",e));if(null===(d=E([r.shape,e.shape])))throw new Error("invalid arguments. Input ndarrays must be broadcast compatible.");return(o=v(k(r,d))).ref=r,r=o,(o=v(k(e,d))).ref=e,e=o,i=x(d,{dtype:"generic",order:r.order}),V(r,e,v(i),t,a),i}if(b(r)){if(s||!b(e))throw new TypeError(T("invalid argument. If the first input array is an array-like object, the second input array must also be an array-like object. Value: `%s`.",e));if(e.length!==r.length)throw new RangeError("invalid arguments. Input arrays must have the same number of elements (i.e., length).");return i=c(r.length),I(w(r),w(e),w(i),t,a),i}throw new TypeError(T("invalid argument. First argument must be an array-like object or an ndarray. Value: `%s`.",r))},J=function(r,e,t,a,n){var s,i,o,d,l;if(!R(a))throw new TypeError(B("invalid argument. Fourth argument must be a function. Value: `%s`.",a));if(s=z(r),i=z(e),o=z(t),s){if(!i)throw new TypeError(B("invalid argument. If the first input array is an ndarray, the second input array must also be an ndarray. Value: `%s`.",e));if(!o)throw new TypeError(B("invalid argument. If the input arrays are ndarrays, the output array must also be an ndarray. Value: `%s`.",t));if(A(t))throw new Error("invalid argument. The output ndarray must be writable. Cannot write to a read-only ndarray.");return l=(t=C(t)).shape,(d=C(q(r,l))).ref=r,r=d,(d=C(q(e,l))).ref=e,D(r,e=d,t,a,n),t.ref}if(F(r)){if(i||!F(e))throw new TypeError(B("invalid argument. If the first input array is an array-like object, the second input array must also be an array-like object. Value: `%s`.",e));if(o||!F(t))throw new TypeError(B("invalid argument. If the input arrays are array-like objects, the output array must also be an array-like object. Value: `%s`.",t));if(r.length!==e.length||e.length!==t.length)throw new RangeError("invalid arguments. Input and output arrays must have the same number of elements ( i.e., length).");return G(S(r),S(e),S(t),a,n),t}throw new TypeError(B("invalid argument. First argument must be an array-like object or an ndarray. Value: `%s`.",r))};r(H,"assign",J);var K=H;export{J as assign,K as default};
//# sourceMappingURL=index.mjs.map
